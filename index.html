<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>诗画旅游</title>
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
    <link rel="icon" href="static/logo.png" type="image/x-icon">   
    <script type="text/javascript" src="src/asset/js/jquery.min.js"></script>
    <script type="text/javascript" src="src/asset/js/url.js"></script>
    <script type="text/javascript" src="src/asset/js/function.js"></script>
    <script type="text/javascript" src="src/asset/js/iscroll.js"></script>
    <script src="https://cdn.jsdelivr.net/vue.validator/2.0.0-beta.3/vue-validator.min.js"></script>
  </head>
  <body id="poem-body">
    <div id="app"></div>
    <script src="static/build.js"></script>
    <script type="text/javascript">
      (function() {
        var dpr, rem, scale;
        var docEl = document.documentElement;
        var fontEl = document.createElement('style');
        var metaEl = document.querySelector('meta[name="viewport"]');
        dpr = window.devicePixelRatio || 1;
        scale = 1 / dpr;
        rem = docEl.clientWidth * dpr / 10;
        // 设置viewport，进行缩放，达到高清效果 
        metaEl.setAttribute('content', 'width=' + dpr * docEl.clientWidth + ', initial-scale=' + scale + ',maximum-scale=' + scale + ', minimum-scale=' + scale + ',user-scalable=no');
        // 设置data-dpr属性，留作的css hack之用 
        docEl.setAttribute('data-dpr', dpr);
        // 动态写入样式 
        docEl.firstElementChild.appendChild(fontEl);
        fontEl.innerHTML = 'html{font-size:' + rem + 'px!important;}';
        // 给js调用的，某一dpr下rem和px之间的转换函数 
        window.rem2px = function(v) {
          v = parseFloat(v);
          return v * rem;
        };
        window.px2rem = function(v) {
          v = parseFloat(v);
          return v / rem;
        };
        window.dpr = dpr;
        window.rem = rem;
        var appView = document.getElementById("poem-body");
        var height = document.body.clientHeight*dpr;
        var width = document.body.clientWidth*dpr;
        appView.setAttribute('style','height:'+height+"px;width:"+width+"px;overflow:hidden")

      })(); 
      </script>
  </body>
</html>
